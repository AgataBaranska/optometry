<div class="container-fluid text-center">
  <div class="row justify-content-center mt-3 mb-3">
    <div class="col-7">
      <!--User form group-->
      <form [formGroup]="registerFormGroup" (submit)="register()">
        <h3 class="mb-4 fw-normal">Please register</h3>

        <div formGroupName="user" class="form-area">
          <h3 class="text-start text-muted">User</h3>
          <div class="row mb-3">
            <div class="col">
              <input
                class="form-control form-control-sm"
                formControlName="username"
                type="text"
                placeholder="Username"
              />
              <div
                *ngIf="
                  username?.invalid && (username?.dirty || username?.touched)
                "
                class="alert alert-danger mt-1"
              >
                <div *ngIf="username!.errors!['required']">
                  Username is required
                </div>
                <div *ngIf="username!.errors!['minlength']">
                  Username must be at least 3 characters
                </div>
                <div *ngIf="username!.errors!['cannotContainSpace']">
                  Username must not contain white spaces
                </div>
              </div>
            </div>
          </div>
          <div class="row mb-3">
            <div class="col">
              <input
                class="form-control form-control-sm"
                formControlName="password"
                type="password"
                placeholder="Password"
              />

              <div
                *ngIf="
                  password?.invalid && (password?.dirty || password?.touched)
                "
                class="alert alert-danger mt-1"
              >
                <div *ngIf="password!.errors!['required']">
                  Password is required
                </div>
                <div *ngIf="password!.errors!['minlength']">
                  Password must be at least 5 characters
                </div>
              </div>
            </div>
          </div>
          <div class="row mb-3">
            <div class="col">
              <input
                class="form-control form-control-sm"
                placeholder="First name"
                formControlName="firstName"
                type="text"
              />
              <div
                *ngIf="
                  firstName?.invalid && (firstName?.dirty || firstName?.touched)
                "
                class="alert alert-danger mt-1"
              >
                <div *ngIf="firstName!.errors!['required']">
                  First name is required
                </div>
              </div>
            </div>
          </div>
          <div class="row mb-3">
            <div class="col">
              <input
                class="form-control form-control-sm"
                placeholder="Last name"
                formControlName="lastName"
                type="text"
              />
              <div
                *ngIf="
                  lastName?.invalid && (lastName?.dirty || lastName?.touched)
                "
                class="alert alert-danger mt-1"
              >
                <div *ngIf="lastName!.errors!['required']">
                  Last name is required
                </div>
              </div>
            </div>
          </div>
          <div class="row mb-3">
            <div class="col">
              <input
                class="form-control form-control-sm"
                placeholder="Pesel"
                formControlName="pesel"
                type="text"
              />
              <div
                *ngIf="pesel?.invalid && (pesel?.dirty || pesel?.touched)"
                class="alert alert-danger mt-1"
              >
                <div *ngIf="pesel!.errors!['required']">Pesel is required</div>
                <div
                  *ngIf="
                    pesel!.errors!['minlength'] || pesel!.errors!['maxlength']
                  "
                >
                  Pesel must be 11 characters long
                </div>
                <div *ngIf="pesel!.errors!['cannotContainSpace']">
                  Pesel must not contain white spaces
                </div>
              </div>
            </div>
          </div>
          <div class="row mb-3">
            <div class="col">
              <input
                class="form-control form-control-sm"
                placeholder="Email"
                formControlName="email"
                type="text"
              />
              <div
                *ngIf="email?.invalid && (email?.dirty || email?.touched)"
                class="alert alert-danger mt-1"
              >
                <div *ngIf="email!.errors!['required']">Email is required</div>
                <div *ngIf="email!.errors!['email']">
                  Must be valid email pattern
                </div>
              </div>
            </div>
          </div>
          <div class="row mb-1">
            <div class="col">
              <input
                class="form-control form-control-sm"
                placeholder="Telephone number"
                formControlName="telephone"
                type="text"
              />

              <div
                *ngIf="
                  telephone?.invalid && (telephone?.dirty || telephone?.touched)
                "
                class="alert alert-danger mt-1"
              >
                <div *ngIf="telephone!.errors!['required']">
                  Telephone number is required
                </div>
                <div *ngIf="telephone!.errors!['pattern']">
                  Must contain only digits
                </div>
              </div>
            </div>
          </div>
        </div>

        <!--Address form group-->
        <div formGroupName="address" class="form-area">
          <h3 class="text-start text-muted">Address</h3>
          <div class="row mb-3">
            <div class="col">
              <input
                class="form-control form-control-sm"
                placeholder="Street"
                formControlName="street"
                type="text"
              />
            </div>
          </div>
          <div class="row mb-3">
            <div class="col">
              <input
                class="form-control form-control-sm"
                placeholder="City"
                formControlName="city"
                type="text"
              />
            </div>
          </div>
          <div class="row mb-3">
            <div class="col">
              <input
                class="form-control form-control-sm"
                placeholder="Country"
                formControlName="country"
                type="text"
              />
            </div>
          </div>
          <div class="row mb-1">
            <div class="col">
              <input
                class="form-control form-control-sm"
                placeholder="Postal Code"
                formControlName="postalCode"
                type="text"
              />
            </div>
          </div>
        </div>

        <button class="btn btn-sm btn-primary col-12" type="submit">
          Register
        </button>
        <div class="row">
          <a class="btn btn-sm text-middle" href="/login"
            ><small class="text-muted mb-3"> Login </small></a
          >
        </div>
      </form>
    </div>
  </div>
</div>
